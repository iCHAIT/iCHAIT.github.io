---
title: "Visualizing all food orders placed online :cake:"
layout: post
date: 2018-05-23 23:30
headerImage: false
star: false
category: blog
author: iCHAIT
---



## What we learned from our 9 months of online food order data


Since, moving to SG last July, we have extensively placed online orders (OLO) for food. :hamburger: <br>
using [foodpanda](https://www.foodpanda.sg/) :panda_face:, [Domino's](https://www.dominos.com.sg/) :pizza:, [UberEats](https://www.ubereats.com/) :car: or [Deliveroo](https://deliveroo.com.sg/) :yum: to get food delivered at home. <br><br>
Soon enough it struck us that we have accumulated quite an amount of data that we can analyze to see our ordering patterns and behaviors to answer simple questions like *how frequently we order*, *how much money do we spend*, *which cuisine we tend to order more*, and *which restaurant cost us more* and *how our ordering pattern have varied over time*? Essentially to figure out where does our :money_with_wings:

For answering all these questions we needed some **python** and a lot of **Tableau**. And the results were intriguing.<br><br>

In total, we have spent close to **S$1579** on OLO, have tried **26 different restaurants** and spent **an average of S$30 per meal**.


<p align="center">
Most Used Service - <b>foodpanda</b><br>
Favorite Cuisine - <b>Indian</b> üçõ<br>
Most Expensive Cuisine - <b>Mexican</b> üåÆ<br>
Max # of orders - <b><a href="https://en.wikipedia.org/wiki/TGIF">Friday</a> ü•Ç</b><br> 
Pocket friendly service - <b>Deliveroo</b><br>
</p>

## Getting the data

We scraped orders from **foodpanda** and **Deliveroo** websites using python's [requests](https://github.com/requests/requests) and [beautifulsoup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/) library. 

**UberEats** had only 5 orders and on top of that since [Uber is not operational in Singapore anymore](https://help.uber.com/h/1e6cfc45-10da-416c-a7a3-d13f75505c34) so it made sense to write those in manually rather than scraping them using python since there was no point spending time on writing code that we won't be using in future anyway.

We tried scraping **Domino's** orders but realized that they are using virtual DOM, so the problem boiled down to scraping JS rendered web page. We came across Selenium which can be used to do this, gave it a shot but realized that it would take more time and effort than we could afford to put in right now, so we skipped it and wrote the data in manually. (luckily we had placed only 7 orders so it was not that bad.)

Further, we wrote a script that merges OLO data from all these 4 services and gives us a consolidated file that contains all our orders over the past 9 months.

I extracted data for 4 relevant fields for each orders -  Cost, Date, Items Ordered, Restaurant, Service

**Cost** reflects the bill amount<br>
**Date** is the date of order<br>
**Items ordered** is a list of items that we ordered in that particular order<br>
**Restaurant** is the outlet from which we ordered<br>
**Service** is the online service through which we placed the order<br>

Here's a snapshot of how the dataset looks -

![Markdown Image](/assets/images/data.png)
<figcaption class="caption">Snapshot of OLO data</figcaption>


The code for scraping the data and merging datasets can be found [here](https://github.com/iCHAIT/oloviz).

We came across Tableau sometime ago and were completely taken by its brilliant UI and amazing charts so we decided to give it a shot. Here are some insights from the data.


## Number of Orders Increased Over Time üìà


In the beginning, we didn‚Äôt order online much since we preferred cooking at home. So there was not a single order in July and August. Soon life became busier and we couldn't find time (and/or the motivation üôà) to cook at home, and thus began our food OLO journey.<br>

![Number of Orders](/assets/images/numordersvsmonths.png)
<figcaption class="caption">Number of Orders vs Months</figcaption>

It cost us dearly in the beginning: see that **spike in November** - that's when we gave up cooking at home entirely (cooked :egg: at the most). We soon realized that money doesn't grow on üå≤ so we reined ourselves.

In **January**, # of orders decreased to an all time low because we were not in Singapore for long (semester break).
**April** has the maximum orders as I was down with Chicken pox and was under house arrest for almost 2 weeks.

## Service Usage over Time :calendar:

![Markdown Image](/assets/images/serviceusagevsmonths.png)
<figcaption class="caption">Service Usage vs Months</figcaption>

A quick view of the above graph shows that **foodpanda** is our preferred service. An interesting thing to note here is that we have consistently placed **1 Domino‚Äôs order every month**. This is proof that promo codes actually work! Domino's gave us a coupon for free pizza each time we ordered (due to late pizza delivery), it makes us wonder if they do it on purpose to tie us down in a vicious cycle of ordering every month.

We placed our first order with **Deliveroo** last month and expect the orders to rise since the [ice has been broken](https://www.youtube.com/watch?v=0q2X3yVwGMk).

## Most Used Service - Foodpanda :panda_face:

As mentioned foodpanda is our favorite service, this is particularly because they have a **good UI**, **vast number of Indian restaurants** listed and a **variety of cuisines** on offer. Also, we get frequent promotional offers as compared to other services (Deliveroo, please note!!).
<br><br>

![Markdown Image](/assets/images/servicevsorderstats.png)
<figcaption class="caption">Service vs Order Stats</figcaption>

**Economy service: Deliveroo**

Although we haven't ordered much with Deliveroo to support this conclusion, the avg. cost of meal per service is lowest. We feel that they have more [Hawker Centres](http://www.nea.gov.sg/public-health/hawker-management/hawker-centres-and-markets-in-singapore) (which provide low cost food across Singapore) listed on their app than any other service provider. So, it seems like we should definitely order from Deliveroo more often and see if we end up saving some money.


**Most Expensive Service: Domino's**

An order from domino's cost us the more when compared to any other service. They have sure done a great job in extracting money from us owing to the aforementioned vicious cycle. 


## Avg. Cost of Meal for Restaurants :ramen:


Further, we wanted to find out avg. cost of meal for each restaurant and cuisine.<br>

![Markdown Image](/assets/images/restaurantsvsorderstats.png)
<figcaption class="caption">Restaurants vs Order Stats</figcaption>

[Zaffron Kitchen](https://www.foodpanda.sg/restaurant/s3su/zaffron-kitchen-westgate) costs us the most and [Rangooli](https://www.foodpanda.sg/restaurant/v1bv/rangooli) is probably the best Indian restaurant (out of what we have tried via OLO) in terms of food quality, taste and cost.

For **Fast Food Chains**, **Domino's** :pizza: definitely costs us on the higher side. <br>
Cheapest of all is **McDonald's** :fries: which is expected.


We found that for **Western Food**, avg. cost per meal is consistent for all restaurants, while it varies significantly for **Indian** & **Italian Cuisine**. So we would probably go for Western when we want to try a new restaurant and remain within budget. 


![Markdown Image](/assets/images/restaurantsvsorderstats2.png)
<figcaption class="caption">Restaurants vs Order Stats</figcaption>


## Most ordered cuisine :stew:

No surprises here. The most ordered cuisine is **Indian**, with **Fast food** being the second highest (coders and PIZZA you know it ü§∑) followed by **Western**.


![Markdown Image](/assets/images/perccuisineordered.png)
<!-- <figcaption class="caption">Most Ordered Cuisine</figcaption> -->



## Percentage of money spent on different cuisines :moneybag:

Then we wanted to find out how our spending varies with cuisine and based on the below pie chart, we found that almost *53%* of the spending goes into **Indian Cuisine** which is expected since it is the most ordered cuisine as well. Followed by **Fast food** at *17%* and **Italian** and **Western** both hovering at *12%*.


![Markdown Image](/assets/images/perc$spent.png){: class="bigger-image" }
<figcaption class="caption">Percentage of $ Spent on Different Cuisines</figcaption>


<br>

## Avg. cost per meal for each cuisine :dollar:

Consequently, we were curious to know on an average how much does each cuisine cost us per meal, and we found that **Mexican** is the costliest followed by **Italian** and **Indian** (not much to separate between the 3 though).
<br><br>
**Western Food** cost us way less than the other cuisines so we should probably start eating Western more frequently in order to save some money.

![Markdown Image](/assets/images/avgcostpercuisine.png)
<figcaption class="caption">Average Cost per Meal for each Cuisine</figcaption>

In the above graph, **size of the square** is proportional to avg. cost of cuisine, and the **darker the color** is proportional to higher number of orders.

<br>

## Months vs Order Stats :bar_chart:

One of the challenges of ordering online is to order good food while saving money at the same time.
When we started ordering online, we didn‚Äôt know how to order efficiently, hence we ended up spending more, however with time we have gotten better at ordering online as we can deduce from the graph below that the avg cost of our orders has decreased over time.


![Markdown Image](/assets/images/monthsvsorderstats.png)
<figcaption class="caption">Trend of Money spent vs Months</figcaption>

There's a spike in **March**, the average cost per meal rose here since we hosted a couple of parties at our place and had friends over, so our orders were large and pretty expensive.

<br>


## Day of Week vs Order Stats :date:

This was one my favorite viz. We wanted to know if day of week affects our ordering pattern. The viz shows **No of orders** and **Avg. Cost of Meals** for each day of week. <br><br>
We found that we are more likely to order online on **later part of the week (Thursday, Friday and Sunday)**. This is because we have lectures to attend on Monday, Tuesday on Wednesday so those days we usually stay in college and eat in the canteen itself, but in the later part of the week we tend to stay at home (since there are no lectures) as a result we tend to order a lot more.


![Markdown Image](/assets/images/dayofweekvsorderstats.png)
<figcaption class="caption">Day of Week vs Order Stats</figcaption>

The **darker shade of the color depicts that the avg cost of meal is higher**. On **Saturday**, the avg cost of meal is higher thought the number of orders are not that much, it was another interesting thing we found and realized that on Saturday‚Äôs we usually go out for dinner since it is an off for both of us the next day, and whenever we order it was generally because we had friends over for house parties. That explains the higher cost of avg meal on Saturday‚Äôs.

![Markdown Image](/assets/images/dayofweekvsorderstats2.png)
<figcaption class="caption">Day of Week vs Order Stats</figcaption>

<br><br>

# Summary

<div class="side-by-side">
    <div class="toleft">
        <img class="image" src="/assets/images/nooforders.png" alt="Alt Text">
    </div>

    <div class="toright">
        <img class="image" src="/assets/images/totmaoneyspent.png" alt="Alt Text">
    </div>
</div>

<div class="side-by-side">
    <div class="toleft">
        <img class="image" src="/assets/images/restaurantstried.png" alt="Alt Text">
    </div>

    <div class="toright">
        <img class="image" src="/assets/images/avg$perMeal.png" alt="Alt Text">
    </div>
</div>
	

<div class="side-by-side">
    <div class="toleft">
        <img class="image" src="/assets/images/avgOLOpermonth.png" alt="Alt Text">
    </div>

    <div class="toright">
        <img class="image" src="/assets/images/$spentonOLOpermonth.png" alt="Alt Text">
    </div>
</div>


<br>

# Conclusion

Being a die hard python programmer what amazed me the most was that we were able to draw all these vizualizations without writing a single line of code, it seemed like it would take days to create such vizualizations with matplotlib or plotly but with Tableau we were able to create interactive viz in minutes with just a few clicks.


<br>

# What's next


* Use selenium to scrape orders from Domino's website, because order's with Domino's are going to increase over time (that is inevitable.)
* Use the data we log into Splitwise to get data for restaurants we dine in, to get a consolidated spend on food.
* Improve ordering habits and redo the analysis every 6/9 months to see if there is any improvement in ordering pattern (lower avg. cost, trying more restaurants, saving more).
* Analyze meals data, to understand most preferred dish, use a food database API to gather nutrition value of each meal.
* **Loose some weight**, yeah man, after gorging on all these meals over the past 9 months I have become fatter than ever, need to hit the gym, it's **HIGHT TIME**.


<br>

# About Us

* We live in Singapore üá∏üá¨, both CS Major at NUS
* ~24 year old with no food allergy whatsoever (touchwood)



![Markdown Gif](/assets/images/ezgif.com-optimize.gif)

<br>

# Disclaimer

In this post, we don't intend to promote any cuisine or restaurant. Ordering food is a subjective activity and depends on several factors like - *number of people eating*, *appetite*, *fondness of a cuisine*, *your locality*, *restaurants near you*, *restaurants listed on OLO service*, *your preferred service*, *gender*, *race*, *ethnicity*, *age*, *food allergies* etc

We did this for fun, we do not intend to define avg. cost of any cuisine or restaurant. We do not encourage you to start or stop eating any particular cuisine or ordering from a particular restaurant or service provider on the basis of this post.

Please do keep in mind that you may get different numbers which maybe entirely different from ours.

Also, there exists only 1 order for some cuisines/restaurants so that is definitely not a good representation, but we wanted to try it out with whatever data we had. It may be a case that these number may change entirely for us 6 months down the lane.

